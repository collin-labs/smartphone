<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <div id="root"></div>

    <style>
      div[app] .rounded-4xl {
        border-radius: 0 !important;
      }

      .bottom-apps {
        background: transparent !important;
      }

      .bottom-apps img {
        border-radius: 0 !important;
      }
    </style>

    <script>
      let loaded = false;
      window.addEventListener("message", ({ data: msgData }) => {
        if (!loaded) {
          loaded = true;
          const basePath = "v3";
          globalThis.safeEval = msgData.safeEval;
          fetch(basePath + "/app.js")
            .then((res) => {
              if (res.status < 200 || res.status >= 300) {
                throw new Error("Failed to fetch js -> " + res.status);
              }
              return res.text();
            })
            .then(eval)
            .then(() => console.log("Setup finished"));
          let link = document.createElement("link");
          link.rel = "stylesheet";
          link.href = basePath + "/styles.css";
          document.head.appendChild(link);
        }
      });
    </script>
  </body>
</html>
